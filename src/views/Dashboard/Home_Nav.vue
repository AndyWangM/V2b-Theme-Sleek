<script setup>
import {useRouter} from 'vue-router';
import {useUserStore,useDataStore} from '@/store/user.js'

import {ref, defineProps, watch} from 'vue'
import {useRoute} from "vue-router";
import i18n from "@/assets/i18n/i18n.js";
import logo from '@/assets/img/logo.png';
import { config } from '@/assets/config';

const title=config.title
const store=useUserStore()
const store1=useDataStore()

const router = useRouter()
const navlist = ref([
  {
    name: i18n.global.t('Setting.Dashboard'),
    path: "/dashboard",
    icon: `<svg t="1689222027804" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1426" width="32" height="32"><path d="M716.8 0H307.2C137.5488 0 0 137.5488 0 307.2v409.6c0 169.6512 137.5488 307.2 307.2 307.2h409.6c169.6512 0 307.2-137.5488 307.2-307.2V307.2c0-169.6512-137.5488-307.2-307.2-307.2z" fill="#FFEFCF" p-id="1427"></path><path d="M230.4 716.8a25.6 25.6 0 0 1 25.6-25.6h486.4a25.6 25.6 0 0 1 25.6 25.6v25.6a25.6 25.6 0 0 1-25.6 25.6H256a25.6 25.6 0 0 1-25.6-25.6v-25.6z" fill="#FEBF60" p-id="1428"></path><path d="M256 256a25.6 25.6 0 0 0-25.6 25.6v332.8a25.6 25.6 0 0 0 25.6 25.6h486.4a25.6 25.6 0 0 0 25.6-25.6V281.6a25.6 25.6 0 0 0-25.6-25.6H256z m396.8 128c-7.8336 0-15.104-2.3552-21.1968-6.3744l-100.352 100.3776a38.4 38.4 0 1 1-57.216-7.808l-8.0384-13.8752a38.2208 38.2208 0 0 1-38.7072-1.5616l-49.3312 49.3568a38.4 38.4 0 1 1-9.9584-10.496l48.8192-48.8192a38.4 38.4 0 1 1 61.2352 1.536l9.3952 16.2816a38.4256 38.4256 0 0 1 33.6896 5.0432l100.1472-100.1216A38.4 38.4 0 1 1 652.8 384z" fill="#FA8A0C" p-id="1429"></path><path d="M460.8 729.6a12.8 12.8 0 0 1 12.8-12.8h179.2a12.8 12.8 0 0 1 0 25.6h-179.2a12.8 12.8 0 0 1-12.8-12.8zM691.2 729.6a12.8 12.8 0 0 1 25.6 0 12.8 12.8 0 0 1-25.6 0z" fill="#FFFFFF" p-id="1430"></path></svg>`
  },
  {
    name: i18n.global.t('Setting.Plan'),
    path: "/dashboard/plan",
    icon: `<svg t="1689222647626" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1589" width="32" height="32"><path d="M716.8 0H307.2C137.5488 0 0 137.5488 0 307.2v409.6c0 169.6512 137.5488 307.2 307.2 307.2h409.6c169.6512 0 307.2-137.5488 307.2-307.2V307.2c0-169.6512-137.5488-307.2-307.2-307.2z" fill="#FED9FF" p-id="1590"></path><path d="M281.6 256m25.6 0l409.6 0q25.6 0 25.6 25.6l0 0q0 25.6-25.6 25.6l-409.6 0q-25.6 0-25.6-25.6l0 0q0-25.6 25.6-25.6Z" fill="#C862D9" p-id="1591"></path><path d="M281.6 537.6a25.6 25.6 0 0 1 25.6-25.6h409.6a25.6 25.6 0 0 1 25.6 25.6v204.8a25.6 25.6 0 0 1-25.6 25.6H307.2a25.6 25.6 0 0 1-25.6-25.6v-204.8z" fill="#C862D9" p-id="1592"></path><path d="M782.3872 484.5568c10.6752 45.6704-40.6016 80.4608-79.104 53.6576l-18.048-12.544a51.2 51.2 0 0 0-42.7264-7.3728l-105.2672 28.7232a51.2 51.2 0 0 1-24.9856 0.4864l-131.7376-30.4128a51.2 51.2 0 0 0-40.7552 7.8848l-19.0464 13.2608c-38.5024 26.8032-89.7792-7.936-79.104-53.632l26.1376-112.2304A51.2 51.2 0 0 1 317.6192 332.8H706.304a51.2 51.2 0 0 1 49.8688 39.552l26.2144 112.2048z" fill="#F094FF" p-id="1593"></path><path d="M358.4 665.6m25.6 0l179.2 0q25.6 0 25.6 25.6l0 0q0 25.6-25.6 25.6l-179.2 0q-25.6 0-25.6-25.6l0 0q0-25.6 25.6-25.6Z" fill="#FFFFFF" p-id="1594"></path><path d="M614.4 665.6m25.6 0l0 0q25.6 0 25.6 25.6l0 0q0 25.6-25.6 25.6l0 0q-25.6 0-25.6-25.6l0 0q0-25.6 25.6-25.6Z" fill="#FFFFFF" p-id="1595"></path></svg>`
  },
  {
    name: i18n.global.t('Setting.Knowledge'),
    path: "/dashboard/knowledge",
    icon: `<svg t="1689222955683" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1754" width="32" height="32"><path d="M716.8 0H307.2C137.5488 0 0 137.5488 0 307.2v409.6c0 169.6512 137.5488 307.2 307.2 307.2h409.6c169.6512 0 307.2-137.5488 307.2-307.2V307.2c0-169.6512-137.5488-307.2-307.2-307.2z" fill="#FFEFCF" p-id="1755"></path><path d="M307.2 709.9392V716.8a51.2 51.2 0 0 0 51.2 51.2h358.4a51.2 51.2 0 0 0 51.2-51.2V358.4a51.2 51.2 0 0 0-51.2-51.2h-6.8608c4.352 7.5264 6.8608 16.2816 6.8608 25.6v332.8a51.2 51.2 0 0 1-51.2 51.2H332.8a50.944 50.944 0 0 1-25.6-6.8608z" fill="#FEBF60" p-id="1756"></path><path d="M307.2 256a51.2 51.2 0 0 0-51.2 51.2v230.4h435.2v-230.4a51.2 51.2 0 0 0-51.2-51.2H307.2z m384 332.8H256v51.2a51.2 51.2 0 0 0 51.2 51.2h332.8a51.2 51.2 0 0 0 51.2-51.2v-51.2z m-358.4-230.4a25.6 25.6 0 0 1 25.6-25.6h230.4a25.6 25.6 0 1 1 0 51.2h-230.4a25.6 25.6 0 0 1-25.6-25.6z m25.6 76.8a25.6 25.6 0 1 0 0 51.2h230.4a25.6 25.6 0 1 0 0-51.2h-230.4z" fill="#FA8A0C" p-id="1757"></path><path d="M588.8 652.8a12.8 12.8 0 0 1 25.6 0 12.8 12.8 0 0 1-25.6 0z" fill="#FFFFFF" p-id="1758"></path><path d="M307.2 640m12.8 0l230.4 0q12.8 0 12.8 12.8l0 0q0 12.8-12.8 12.8l-230.4 0q-12.8 0-12.8-12.8l0 0q0-12.8 12.8-12.8Z" fill="#FFFFFF" p-id="1759"></path></svg>                `
  },
  {
    name: i18n.global.t('Setting.Invite'),
    path: "/dashboard/invite",
    icon: `<svg t="1689223036957" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1916" width="32" height="32"><path d="M716.8 0H307.2C137.5488 0 0 137.5488 0 307.2v409.6c0 169.6512 137.5488 307.2 307.2 307.2h409.6c169.6512 0 307.2-137.5488 307.2-307.2V307.2c0-169.6512-137.5488-307.2-307.2-307.2z" fill="#FFEFEA" p-id="1917"></path><path d="M659.456 281.6v53.1712H291.2512a25.6 25.6 0 0 0-25.6 25.6V384h434.944a25.6 25.6 0 0 1 24.6528 18.688l78.7712 281.6c0.4608 1.664 0.768 3.328 0.8704 4.9408h25.9328a25.6 25.6 0 0 0 25.6-25.6V281.6a25.6 25.6 0 0 0-25.6-25.6h-145.7152a25.6 25.6 0 0 0-25.6 25.6z" fill="#FFA370" p-id="1918"></path><path d="M179.2 409.6a25.6 25.6 0 0 0-25.0112 31.0272l66.4832 307.2a25.6 25.6 0 0 0 25.0368 20.1728h508.3136a25.6 25.6 0 0 0 24.7296-32.2816l-83.1232-307.2a25.6 25.6 0 0 0-24.704-18.9184H179.2z m440.2432 132.6592l-102.4768 84.5056v-54.4768c-88.5504 3.7888-140.4672 39.2704-190.2848 97.28 60.9792-111.2064 117.6064-146.688 190.2848-146.816v-65.024l102.4768 84.5312z" fill="#FF7B31" p-id="1919"></path><path d="M608.256 729.6a12.8 12.8 0 1 1 25.6 0 12.8 12.8 0 0 1-25.6 0z" fill="#FFFFFF" p-id="1920"></path><path d="M326.6816 716.8m12.8 0l230.4 0q12.8 0 12.8 12.8l0 0q0 12.8-12.8 12.8l-230.4 0q-12.8 0-12.8-12.8l0 0q0-12.8 12.8-12.8Z" fill="#FFFFFF" p-id="1921"></path></svg>                `
  },
  {
    name: i18n.global.t('Setting.Ticket'),
    path: "/dashboard/ticket",
    icon: `<svg t="1689223337972" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2244" width="32" height="32"><path d="M716.8 0H307.2C137.5488 0 0 137.5488 0 307.2v409.6c0 169.6512 137.5488 307.2 307.2 307.2h409.6c169.6512 0 307.2-137.5488 307.2-307.2V307.2c0-169.6512-137.5488-307.2-307.2-307.2z" fill="#FFEBEB" p-id="2245"></path><path d="M277.8624 357.1712a25.6 25.6 0 0 1-0.4608-36.1984l40.6272-41.728a25.6 25.6 0 0 1 36.1984-0.4864l56.3456 54.8864-77.3888 77.4144-55.296-53.888z m73.6512 71.7312L616.448 686.976l-7.68 7.8848c-5.8624 5.9904-3.2256 15.8464 4.7104 17.7408l124.928 29.8752a11.008 11.008 0 0 0 13.0816-13.44l-33.1264-124.0832c-2.1248-7.8848-12.032-10.24-17.8688-4.2752l-7.68 7.9104L428.9024 351.488l-77.3888 77.3888z" fill="#FF8E91" p-id="2246"></path><path d="M729.7792 362.1632a80.768 80.768 0 0 1-100.736 64.7424l-181.7088 220.9536a80.768 80.768 0 1 1-43.7504-38.272l178.5088-217.088a80.768 80.768 0 1 1 147.6864-30.3616z" fill="#FE5570" p-id="2247"></path><path d="M614.17379 349.241033m-3.305503-9.366652l0 0q-3.305503-9.366652-12.672155-6.061148l0 0q-9.366652 3.305503-6.061148 12.672154l0 0q3.305503 9.366652 12.672154 6.061149l0 0q9.366652-3.305503 6.061149-12.672155Z" fill="#FFFFFF" p-id="2248"></path><path d="M603.904 319.3856c3.3536 4.4032 10.24 3.6352 12.544-1.4336l2.6112-5.7344a11.136 11.136 0 0 1 6.4256-5.888l12.9024-4.5568a6.528 6.528 0 0 0 3.8656-8.576 6.4 6.4 0 0 0-7.8336-3.7632c-20.48 6.4-28.7744 12.288-31.8208 24.2688a6.6816 6.6816 0 0 0 1.28 5.6832z" fill="#FFFFFF" p-id="2249"></path></svg>`
  },
])
const nav_index = ref(0)
const route = useRoute()
const path_index = route.path.split("/")[route.path.split("/").length - 1]
for (let i = 0; i < navlist.value.length; i++) {
  if (navlist.value[i].path.split("/")[navlist.value[i].path.split("/").length - 1] === path_index) {
    nav_index.value = i
    break
  }
}


const topath=(path,index)=>{
  nav_index.value=index
  store1.nav=!store1.nav
  router.push(path)
}

const out = () => {
  store.Set_Auth_key(undefined)

  router.push("/")
}
</script>
<template>


  <div class="h-full overflow-y-scroll">
    <div class="flex justify-around items-center">
      <img class="w-12" :src="logo" alt="">
      <p class="text-2xl text-[var(--theme-title)]">{{ title }}</p>
    </div>
    <!-- 导航 -->
    <div class="p-5 flex flex-col gap-10 mt-10">
      <div
          class="flex  flex-row gap-12 items-center rounded-xl  text-lg hover:shadow-lg    cursor-pointer py-3 px-3 mt-1"
          v-for="(item, index) in navlist" :key="index"
          :class="index===nav_index?'shadow-[var(--theme-shadow-bg)] bg-[var(--theme-nav-item)] text-[var(--theme-nav-item-color)] shadow-lg':'text-[var(--theme-text)]'"
          @click="topath(item.path,index)"
      >
        <div v-html="item.icon">

        </div>
        <p class="whitespace-nowrap">{{ item.name }}</p>
      </div>

    </div>

    <div @click="out"
         class="p-5  text-center flex flex-row items-center gap-5 cursor-pointer text-[var(--theme-text)] shadow-lg shadow-[var(--theme-shadow-bg)]  rounded-2xl hover:text-[var(--theme-title)] hover:shadow-[var(--theme-shadow-bg)] lg:mt-12">
      <svg t="1689223578897" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
           p-id="7661" width="32" height="32">
        <path
            d="M512.1 521.1c-33.1 0-60-26.9-60-60V123.7c0-33.1 26.9-60 60-60s60 26.9 60 60v337.4c0 33.1-26.9 60-60 60z"
            fill="#006EFF" p-id="7662"></path>
        <path d="M864.8 350.7m-60 0a60 60 0 1 0 120 0 60 60 0 1 0-120 0Z" fill="#006EFF" p-id="7663"></path>
        <path
            d="M917.7 322L810 375c0 0.1 0.1 0.2 0.1 0.3 0.1 0.3 0.3 0.6 0.4 0.8 0.7 1.4 1.3 2.9 1.9 4.3 0.2 0.4 0.4 0.9 0.6 1.3 0.7 1.7 1.5 3.4 2.2 5.1 0 0.1 0.1 0.2 0.1 0.3 0.7 1.6 1.3 3.3 2 4.9 0.2 0.5 0.4 0.9 0.5 1.4 0.6 1.5 1.2 3.1 1.8 4.7 0.1 0.2 0.1 0.4 0.2 0.6 0.6 1.7 1.3 3.5 1.9 5.2 0.2 0.5 0.3 0.9 0.5 1.4 0.5 1.5 1 2.9 1.5 4.4 0.1 0.3 0.2 0.7 0.3 1 0.6 1.8 1.1 3.5 1.7 5.3 0.1 0.4 0.3 0.8 0.4 1.3 0.4 1.5 0.9 2.9 1.3 4.4 0.1 0.4 0.2 0.9 0.4 1.3l1.5 5.4c0.1 0.3 0.2 0.7 0.3 1 0.4 1.5 0.8 3 1.1 4.6 0.1 0.5 0.2 0.9 0.3 1.4 0.4 1.8 0.9 3.6 1.3 5.5 0 0.2 0.1 0.4 0.1 0.6 0.4 1.7 0.7 3.3 1.1 5l0.3 1.5c0.3 1.7 0.7 3.5 1 5.3 0 0.1 0 0.2 0.1 0.4 0.3 1.9 0.6 3.7 0.9 5.6 0.1 0.5 0.2 1 0.2 1.5 0.2 1.6 0.5 3.2 0.7 4.8 0 0.3 0.1 0.6 0.1 1 0.3 1.9 0.5 3.8 0.7 5.6 0.1 0.5 0.1 0.9 0.2 1.4 0.2 1.6 0.4 3.1 0.5 4.7 0 0.4 0.1 0.9 0.1 1.3 0.2 1.9 0.4 3.8 0.5 5.7 0 0.4 0.1 0.8 0.1 1.2l0.3 4.8c0 0.5 0.1 1 0.1 1.5 0.1 1.9 0.2 3.8 0.3 5.8v0.8c0.1 1.7 0.1 3.4 0.2 5.1v1.6c0 2 0.1 3.9 0.1 5.9 0 181.1-146.9 328-328 328s-328-146.9-328-328c0-48.4 10.5-94.4 29.3-135.7-10.4 18-29.8 30-52 30-33.1 0-60-26.9-60-60 0-8.5 1.8-16.6 5-24h-0.3c-27 57.6-42 121.9-42 189.7 0 247.4 200.6 448 448 448s448-200.6 448-448c-0.2-68.1-15.3-132.4-42.2-190z"
            fill="#006EFF" p-id="7664"></path>
        <path
            d="M825.5 416c0.1 0.4 0.3 0.8 0.4 1.3-0.2-0.5-0.3-0.9-0.4-1.3zM810 375.3c0.1 0.3 0.3 0.6 0.4 0.8-0.1-0.3-0.2-0.5-0.4-0.8zM817.2 392c0.2 0.5 0.4 0.9 0.5 1.4-0.2-0.4-0.4-0.9-0.5-1.4zM823.5 409.7c0.1 0.3 0.2 0.7 0.3 1-0.1-0.3-0.2-0.7-0.3-1zM815.1 386.9c0 0.1 0.1 0.2 0.1 0.3 0-0.2-0.1-0.2-0.1-0.3zM821.5 403.9c0.2 0.5 0.3 0.9 0.5 1.4-0.1-0.5-0.3-1-0.5-1.4zM819.5 398.1c0.1 0.2 0.1 0.4 0.2 0.6-0.1-0.2-0.2-0.4-0.2-0.6zM812.3 380.4c0.2 0.4 0.4 0.9 0.6 1.3-0.2-0.4-0.4-0.8-0.6-1.3zM833.2 446.4l0.3 1.5-0.3-1.5zM839 491c0 0.5 0.1 1 0.1 1.5 0-0.5 0-1-0.1-1.5zM838.6 485.1c0 0.4 0.1 0.8 0.1 1.2 0-0.4-0.1-0.8-0.1-1.2zM838 478.1c0 0.4 0.1 0.9 0.1 1.3 0-0.5-0.1-0.9-0.1-1.3zM839.6 504.2v0zM839.4 498.3v0zM837.3 472c0.1 0.5 0.1 0.9 0.2 1.4-0.1-0.5-0.2-0.9-0.2-1.4zM835.5 459.1c0.1 0.5 0.2 1 0.2 1.5-0.1-0.5-0.2-1-0.2-1.5zM836.4 465.4c0 0.3 0.1 0.6 0.1 1 0-0.4 0-0.7-0.1-1zM829 428.3c0.1 0.3 0.2 0.7 0.3 1-0.2-0.3-0.2-0.7-0.3-1zM832 440.8c0 0.2 0.1 0.4 0.1 0.6 0-0.2-0.1-0.4-0.1-0.6zM830.4 433.9c0.1 0.5 0.2 0.9 0.3 1.4-0.1-0.5-0.2-0.9-0.3-1.4zM834.5 453.1c0 0.1 0 0.2 0.1 0.4-0.1-0.1-0.1-0.2-0.1-0.4zM827.1 421.6c0.1 0.4 0.2 0.9 0.4 1.3-0.1-0.4-0.2-0.8-0.4-1.3z"
            fill="#006EFF" p-id="7665"></path>
        <path d="M213 376c1.6-2.8 3-5.7 4.2-8.8-1.5 2.9-2.9 5.8-4.2 8.8z" fill="#606060" p-id="7666"></path>
        <path
            d="M216 322c-9.3-21.2-30.4-36-55-36s-45.7 14.8-55 36c-3.2 7.4-5 15.5-5 24 0 33.1 26.9 60 60 60 22.2 0 41.6-12.1 52-30 1.3-3 2.7-5.9 4.2-8.8 2.5-6.6 3.9-13.7 3.9-21.2-0.1-8.5-1.9-16.6-5.1-24z"
            fill="#006EFF" p-id="7667"></path>
      </svg>
      <p>{{ i18n.global.t('Setting.Go_Out') }}</p>
    </div>

  </div>
</template>